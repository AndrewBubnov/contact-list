<!DOCTYPE html>
<html lang="en" ng-app="contactList">
<head>
    <meta charset="UTF-8">
    <title>Contact list</title>
    <link rel="stylesheet" href="app.css">
    <script src="lib/angular/angular.js"></script>
    <script src="controllers/contactListController.js"></script>
</head>
<body ng-controller="contactListController">

<form name="inputForm">
    <div class="wrapper">
        <div class="inner-wrapper">
            <input required ng-model="contact.firstName" placeholder="First Name" class="input-item" name="firstName"/>
            <div class="error" ng-show="showError">
                {{getError(inputForm.firstName.$error)}}
            </div>
        </div>
        <div class="inner-wrapper">
            <input required ng-model="contact.lastName" placeholder="Last Name" class="input-item" name="lastName"/>
            <div class="error" ng-show="showError">
                {{getError(inputForm.lastName.$error)}}
            </div>
        </div>
        <div class="inner-wrapper">
            <input required ng-model="contact.phone" placeholder="Phone" class="input-item" name="phone"/>
            <div class="error" ng-show="showError">
                {{getError(inputForm.phone.$error)}}
            </div>
        </div>
        <div class="inner-wrapper">
            <input required ng-model="contact.cellPhone" placeholder="Cell phone" class="input-item" name="cellPhone"/>
            <div class="error" ng-show="showError">
                {{getError(inputForm.cellPhone.$error)}}
            </div>
        </div>
        <div class="inner-wrapper">
            <input required ng-model="contact.address" placeholder="Address" class="input-item" name="address"/>
            <div class="error" ng-show="showError">
                {{getError(inputForm.address.$error)}}
            </div>
        </div>
        <button type="submit" ng-click="addItem(contact, inputForm.$valid)" class="add-button btn">Add</button>
    </div>
</form>

<div class="server-error" ng-show="serverError">
    {{serverErrorMessage}}
    <button class="hide-error" ng-click="hideServerErrorMessage()">Ok</button>
</div>
<div ng-repeat="item in items track by item._id" class="record-container">
    <div>
        <input ng-if="item.edited" ng-model="item.firstName" class="input-item">

        <div class="record-item" ng-if="!item.edited">
            {{item.firstName}}
        </div>

        <input ng-if="item.edited" ng-model="item.lastName" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.lastName}}
        </div>
        <input ng-if="item.edited" ng-model="item.phone" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.phone}}
        </div>
        <input ng-if="item.edited" ng-model="item.cellPhone" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.cellPhone}}
        </div>
        <input ng-if="item.edited" ng-model="item.address" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.address}}
        </div>
        <input ng-if="item.edited" ng-model="item.fullName" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.fullName}}
        </div>
    </div>
    <div class="buttons">
        <button ng-click="deleteItem(item._id)" class="btn">Delete</button>
        <div>
            <button ng-if="!item.edited" ng-click="editItem(item._id)" class="btn">Edit</button>
            <button ng-if="item.edited" ng-click="saveItem(item)" class="btn">Save</button>
        </div>
    </div>
</div>
</body>
</html>