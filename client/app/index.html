<!DOCTYPE html>
<html lang="en" ng-app="contactList">
<head>
    <meta charset="UTF-8">
    <title>Contact list</title>
    <link rel="stylesheet" href="app.css">
    <script src="lib/angular/angular.js"></script>
    <script>
        const app = angular.module("contactList", [])
        app.controller('contactListController', ($scope) => {
            const text = /[a-z]/gi

            $scope.items = [];

            const items = $scope.items



            $scope.addItem = (newContact) => {
                const contact = JSON.parse(JSON.stringify(newContact))
                contact.id = items.length;
                items.push({contact})
                Object.keys(newContact).forEach(item => newContact[item] = '')
            }

            $scope.deleteItem = (id) => {
                $scope.items.splice(items.indexOf(items.filter(element => element.id === id)[0]), 1)
            }

            $scope.editItem = (id) => {
                items.filter(element => element.id === id)[0].edited = true
            }

            $scope.saveItem = (id) => {
                const item = items.filter(element => element.id === id)[0].edited = false
            }
        })
    </script>
</head>
<body ng-controller="contactListController">

<input ng-model="contact.firstName" placeholder="First Name" class="input-item"/>
<input ng-model="contact.lastName" placeholder="Last Name" class="input-item"/>
<input ng-model="contact.phone" placeholder="Phone" class="input-item"/>
<input ng-model="contact.cellPhone" placeholder="Cell phone" class="input-item"/>
<input ng-model="contact.address" placeholder="Address" class="input-item"/>

<button ng-click="addItem(contact)" class="add-button btn">Add</button>
<div ng-repeat="item in items" class="record-container">
    <div>
        <input ng-if="item.edited" ng-model="item.contact.firstName" class="input-item">

        <div class="record-item" ng-if="!item.edited">
            {{item.contact.firstName}}
        </div>





        <input ng-if="item.edited" ng-model="item.contact.lastName" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.contact.lastName}}
        </div>
        <input ng-if="item.edited" ng-model="item.contact.phone" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.contact.phone}}
        </div>
        <input ng-if="item.edited" ng-model="item.contact.cellPhone" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.contact.cellPhone}}
        </div>
        <input ng-if="item.edited" ng-model="item.contact.address" class="input-item">
        <div class="record-item" ng-if="!item.edited">
            {{item.contact.address}}
        </div>
    </div>
    <div class="buttons">
        <button ng-click="deleteItem(item.id)" class="btn">Delete</button>
        <div>
            <button ng-if="!item.edited" ng-click="editItem(item.id)" class="btn">Edit</button>
            <button ng-if="item.edited" ng-click="saveItem(item.id)" class="btn">Save</button>
        </div>
    </div>
</div>
</body>
</html>